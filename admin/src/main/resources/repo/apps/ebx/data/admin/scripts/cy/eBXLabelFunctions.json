{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"eBXLabelFunctions","dependencies@STRING":["/libs/bndly/data/scripts/cy/StringUtil","/libs/bndly/data/scripts/cy/CopyUtil","/libs/bndly/data/scripts/cy/LabelFunctions","/libs/bndly/data/scripts/cy/Expression"],"script@STRING":"CopyUtil.copyConfig({\r\n\tProductRestBean: function(entity) {\r\n\t\tvar a = [];\r\n\t\tif (entity.getSku()) {\r\n\t\t\ta.push(entity.getSku());\r\n\t\t}\r\n\t\tif (entity.getName()) {\r\n\t\t\ta.push(entity.getName());\r\n\t\t}\r\n\t\treturn a.join(\" \");\r\n\t},\r\n\tPropertyRestBean: function(entity) {\r\n\t\tif(!entity.getName() && !entity.getActualValue()) {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tvar v = entity.getName()+\"=\"+entity.getActualValue();\r\n\t\tif(entity.getLocale()) {\r\n\t\t\tv += \" (\"+entity.getLocale()+\")\";\r\n\t\t}\r\n\t\treturn v;\r\n\t},\r\n\tValueAddedTaxRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\t},\r\n\tUserAttributeRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\t},\r\n\tQuantityUnitRestBean: function(entity) {\r\n\t\treturn entity.getDescription();\r\n\t},\r\n\tLineItemRestBean: function(entity) {\r\n\t\treturn entity.getSku() + \" - \" + entity.getProductName();\r\n\t},\r\n\tWishListItemRestBean: function(entity) {\r\n\t\tvar r = entity.getDesiredAmount() + \"x \" + entity.getSku();;\r\n\t\tif(entity.getCoremediaProductName()) {\r\n\t\t\tr+= \" - \" + entity.getCoremediaProductName();\r\n\t\t}\r\n\t\treturn r ;\r\n\t},\r\n\tWishListItemPriorityRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\t},\r\n\tCartItemRestBean: function(entity) {\r\n\t\treturn entity.getQuantity() + \"x \" + entity.getSku();\r\n\t},\r\n\tManufacturerRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\t},\r\n\tPurchaseOrderRestBean: function(entity) {\r\n\t\tvar a = entity.getAddress();\r\n\t\tvar d = StringUtil.formatDate(entity.getOrderDate());\r\n\t\tif(a) {\r\n\t\t\tvar ad = \": \"+a.getFirstName()+\" \"+a.getLastName();\r\n\t\t\treturn entity.getOrderNumber()+ad+\" \"+d;\r\n\t\t} else {\r\n\t\t\treturn entity.getOrderNumber()+\": \"+d;\r\n\t\t}\r\n\t},\r\n\tDynamicPropertyRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\t},\r\n\tSalutationRestBean: function(entity) {\r\n\t\treturn entity.getInternalName();\r\n\t},\r\n\tUserAttributeValueRestBean: function(entity) {\r\n\t\tvar att = entity.getAttribute();\r\n\t\tif(att) {\r\n\t\t\treturn labelFn(att) + \": \" + entity.getStringValue();\r\n\t\t} else {\r\n\t\t\treturn entity.getStringValue();\r\n\t\t}\r\n\t},\r\n\tPersonTitleRestBean: function(entity) {\r\n\t\treturn entity.getInternalName();\r\n\t},\r\n\tPersonRestBean: function(entity) {\r\n\t\tvar address = entity.getAddress();\r\n\t\tif(address) {\r\n\t\t\treturn address.getFirstName()+\" \"+address.getLastName();\r\n\t\t} else {\r\n\t\t\treturn entity.getExternalUserId();\r\n\t\t}\r\n\t},\r\n\tCountryRestBean: function(entity) {\r\n\t\treturn entity.getInternalName();\r\n\t},\r\n\tProductFamilyRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\t},\r\n\tProductAttributeRestBean: function(entity) {\r\n\t\tif (entity.getLabel()) {\r\n\t\t\treturn entity.getLabel();\r\n\t\t}\r\n\t\treturn entity.getName();\r\n\t},\r\n\tShipmentItemRestBean: function(entity) {\r\n\t\treturn entity.get(\"articleId\")+\": \"+entity.get(\"articleName\");\r\n\t},\r\n\tProductFamilyAttributeRestBean: function(entity) {\r\n\t\tvar att = labelFn(entity.getAttribute());\r\n\t\tvar fam = labelFn(entity.getFamily());\r\n\t\tif(att && fam) {\r\n\t\t\treturn fam+\": \"+att;\r\n\t\t} else {\r\n\t\t\tif(att) {\r\n\t\t\t\treturn att;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn undefined;\r\n\t},\r\n\tCurrencyRestBean: function(entity) {\r\n\t\tif (entity.getSymbol()) {\r\n\t\t\treturn entity.getSymbol();\r\n\t\t}\r\n\t\treturn entity.getCode();\r\n\t},\r\n\tPropertySetRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\t},\r\n\tProductAttributeValueRestBean: function(entity) {\r\n\t\tif (entity.getLabel()) {\r\n\t\t\treturn entity.getLabel();\r\n\t\t}\r\n\t\treturn entity.getStringValue();\r\n\t},\r\n\tProductAttributeRestBean: function(entity) {\r\n\t\tif (entity.getLabel()) {\r\n\t\t\treturn entity.getLabel();\r\n\t\t}\r\n\t\treturn entity.getName();\r\n\t},\r\n\tWishListPrivacyRestBean: function(entity) {\r\n\t\tif (entity.getLabel()) {\r\n\t\t\treturn entity.getLabel();\r\n\t\t}\r\n\t\treturn entity.getName();\r\n\r\n\t},\r\n\tLanguageRestBean: function(entity) {\r\n\t\treturn entity.getName();\r\n\r\n\t},\r\n\tTranslatedObjectRestBean: function(entity) {\r\n\t\treturn entity.getTranslationKey();\r\n\t},\r\n\tTranslationRestBean: function(entity) {\r\n\t\tvar sv = entity.getStringValue();\r\n\t\tif(!sv) {\r\n\t\t\tsv = \"\";\r\n\t\t}\r\n\t\tvar lang = new Expression({root: entity, path: \"language.name\"}).resolve();\r\n\t\tif(!lang) {\r\n\t\t\tlang = \"\";\r\n\t\t}\r\n\t\tif(!sv && !lang) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\treturn lang+\" : \"+sv;\r\n\t},\r\n\tPathConfigurationRestBean: function(entity) {\r\n\t\tvar \r\n\t\tpath = entity.getCmsPath(),\r\n\t\tname = entity.getName(),\r\n\t\tcontentLanguage = entity.getContentLanguage();\r\n\t\tif(!contentLanguage) {\r\n\t\t\tcontentLanguage = \"\";\r\n\t\t} else {\r\n\t\t\tcontentLanguage = \" (\"+contentLanguage+\")\";\r\n\t\t}\r\n\t\tif(!name) {\r\n\t\t\tname = \"\";\r\n\t\t}\r\n\t\treturn name+contentLanguage+\" : \"+path;\r\n\t}\r\n}, LabelFunctions);\r\nreturn LabelFunctions;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":"","export@STRING":""}}