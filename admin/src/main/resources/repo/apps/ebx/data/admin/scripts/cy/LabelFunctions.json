{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"LabelFunctions","dependencies@STRING":["/libs/bndly/data/scripts/cy/StringUtil","/libs/bndly/data/scripts/cy/Expression"],"script@STRING":"var labelFn = function(entity) {\r\n\tif (!entity) {\r\n\t\treturn undefined;\r\n\t}\r\n\tvar fn = labelFn[entity.clazzName()];\r\n\tif (fn) {\r\n\t\treturn fn(entity);\r\n\t}\r\n\treturn undefined;\r\n};\r\n\r\nlabelFn.ProductRestBean = function(entity) {\r\n\tvar a = [];\r\n\tif (entity.getSku()) {\r\n\t\ta.push(entity.getSku());\r\n\t}\r\n\tif (entity.getName()) {\r\n\t\ta.push(entity.getName());\r\n\t}\r\n\treturn a.join(\" \");\r\n};\r\nlabelFn.PropertyRestBean = function(entity) {\r\n\tif(!entity.getName() && !entity.getActualValue()) {\r\n\t\treturn \"\";\r\n\t}\r\n\tvar v = entity.getName()+\"=\"+entity.getActualValue();\r\n\tif(entity.getLocale()) {\r\n\t\tv += \" (\"+entity.getLocale()+\")\";\r\n\t}\r\n\treturn v;\r\n};\r\nlabelFn.ValueAddedTaxRestBean = function(entity) {\r\n\treturn entity.getName();\r\n};\r\nlabelFn.UserAttributeRestBean = function(entity) {\r\n\treturn entity.getName();\r\n};\r\nlabelFn.QuantityUnitRestBean = function(entity) {\r\n\treturn entity.getDescription();\r\n};\r\nlabelFn.LineItemRestBean = function(entity) {\r\n\treturn entity.getSku() + \" - \" + entity.getProductName();\r\n};\r\nlabelFn.WishListItemRestBean = function(entity) {\r\n\tvar r = entity.getDesiredAmount() + \"x \" + entity.getSku();;\r\n\tif(entity.getCoremediaProductName()) {\r\n\t\tr+= \" - \" + entity.getCoremediaProductName();\r\n\t}\r\n\treturn r ;\r\n};\r\nlabelFn.WishListItemPriorityRestBean = function(entity) {\r\n\treturn entity.getName();\r\n};\r\nlabelFn.CartItemRestBean = function(entity) {\r\n\treturn entity.getQuantity() + \"x \" + entity.getSku();\r\n};\r\nlabelFn.ManufacturerRestBean = function(entity) {\r\n\treturn entity.getName();\r\n};\r\nlabelFn.PurchaseOrderRestBean = function(entity) {\r\n\tvar a = entity.getAddress();\r\n\tvar d = StringUtil.formatDate(entity.getOrderDate());\r\n\tif(a) {\r\n\t\tvar ad = \": \"+a.getFirstName()+\" \"+a.getLastName();\r\n\t\treturn entity.getOrderNumber()+ad+\" \"+d;\r\n\t} else {\r\n\t\treturn entity.getOrderNumber()+\": \"+d;\r\n\t}\r\n};\r\nlabelFn.DynamicPropertyRestBean = function(entity) {\r\n\treturn entity.getName();\r\n};\r\nlabelFn.SalutationRestBean = function(entity) {\r\n\treturn entity.getInternalName();\r\n};\r\nlabelFn.UserAttributeValueRestBean = function(entity) {\r\n\tvar att = entity.getAttribute();\r\n\tif(att) {\r\n\t\treturn labelFn(att) + \": \" + entity.getStringValue();\r\n\t} else {\r\n\t\treturn entity.getStringValue();\r\n\t}\r\n};\r\nlabelFn.PersonTitleRestBean = function(entity) {\r\n\treturn entity.getInternalName();\r\n};\r\nlabelFn.PersonRestBean = function(entity) {\r\n\tvar address = entity.getAddress();\r\n\tif(address) {\r\n\t\treturn address.getFirstName()+\" \"+address.getLastName();\r\n\t} else {\r\n\t\treturn entity.getExternalUserId();\r\n\t}\r\n};\r\nlabelFn.CountryRestBean = function(entity) {\r\n\treturn entity.getInternalName();\r\n};\r\nlabelFn.ProductFamilyRestBean = function(entity) {\r\n\treturn entity.getName();\r\n};\r\nlabelFn.ProductAttributeRestBean = function(entity) {\r\n\tif (entity.getLabel()) {\r\n\t\treturn entity.getLabel();\r\n\t}\r\n\treturn entity.getName();\r\n};\r\nlabelFn.ShipmentItemRestBean = function(entity) {\r\n\treturn entity.get(\"articleId\")+\": \"+entity.get(\"articleName\");\r\n};\r\nlabelFn.ProductFamilyAttributeRestBean = function(entity) {\r\n\tvar att = labelFn(entity.getAttribute());\r\n\tvar fam = labelFn(entity.getFamily());\r\n\tif(att && fam) {\r\n\t\treturn fam+\": \"+att;\r\n\t} else {\r\n\t\tif(att) {\r\n\t\t\treturn att;\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n};\r\nlabelFn.CurrencyRestBean = function(entity) {\r\n\tif (entity.getSymbol()) {\r\n\t\treturn entity.getSymbol();\r\n\t}\r\n\treturn entity.getCode();\r\n};\r\nlabelFn.ProductAttributeValueRestBean = function(entity) {\r\n\tif (entity.getLabel()) {\r\n\t\treturn entity.getLabel();\r\n\t}\r\n\treturn entity.getStringValue();\r\n};\r\nlabelFn.ProductAttributeRestBean = function(entity) {\r\n\tif (entity.getLabel()) {\r\n\t\treturn entity.getLabel();\r\n\t}\r\n\treturn entity.getName();\r\n};\r\nlabelFn.WishListPrivacyRestBean = function(entity) {\r\n\tif (entity.getLabel()) {\r\n\t\treturn entity.getLabel();\r\n\t}\r\n\treturn entity.getName();\r\n\r\n};\r\nlabelFn.LanguageRestBean = function(entity) {\r\n\treturn entity.getName();\r\n\r\n};\r\nlabelFn.TranslationRestBean = function(entity) {\r\n\tvar sv = entity.getStringValue();\r\n\tif(!sv) {\r\n\t\tsv = \"\";\r\n\t}\r\n\tvar lang = new Expression({root: entity, path: \"language.name\"}).resolve();\r\n\tif(!lang) {\r\n\t\tlang = \"\";\r\n\t}\r\n\tif(!sv && !lang) {\r\n\t\treturn undefined;\r\n\t}\r\n\treturn lang+\" : \"+sv;\r\n};\r\nlabelFn.PathConfigurationRestBean = function(entity) {\r\n\tvar \r\n\tpath = entity.getCmsPath(),\r\n\tname = entity.getName(),\r\n\tcontentLanguage = entity.getContentLanguage();\r\n\tif(!contentLanguage) {\r\n\t\tcontentLanguage = \"\";\r\n\t} else {\r\n\t\tcontentLanguage = \" (\"+contentLanguage+\")\";\r\n\t}\r\n\tif(!name) {\r\n\t\tname = \"\";\r\n\t}\r\n\treturn name+contentLanguage+\" : \"+path;\r\n};\r\n\r\nreturn labelFn;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":""}}